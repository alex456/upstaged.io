<div class="container">
    <br>
  <h1>Crew for {{show?.name}}</h1>
  <br>
    <!-- ADD MEMBER MODAL -->
    <button class="btn btn-primary login-btn" type="submit" data-toggle="modal" data-target="#addMember">Add a Member</button>    
    
  <br>
  <br>

<table class="table table-striped">
    <tr>
      <th>Name</th>
      <th>Role</th>
      <th>Email</th>
      <th>Phone Number</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
    <tr *ngFor="let castMember of show?.crew">
      <td>{{ castMember.name }}</td>
      <td>{{ castMember.role }}</td>
      <td><a [href]="'mailto:' + castMember.email + '?Subject=Test%20Email'">{{ castMember.email }}</a></td>
      <td>{{ castMember.phoneNumber }}</td>
      <td>
        <button class="btn btn-link" data-toggle="modal" data-target="#exampleModal" (click)="edit(castMember)">
            <img src="assets/images/pencil.png" width="30" />
       </button>
      </td>
      <td>
        <button class="btn btn-link" (click)="delete(castMember)">
            <img src="assets/images/trash-can.png" width="30" />
       </button>
      </td>
    </tr>
  </table>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit:  {{this.newCrew.name}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Name:</label>
            <input type="text" class="form-control" id="recipient-name" name="name" [(ngModel)]="newCrew.name">
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Email:</label>
            <input type="text" class="form-control" id="recipient-action" name="email" [(ngModel)]="newCrew.email">
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Phone Number:</label>
            <input type="text" class="form-control" id="recipient-action" name="numb" [(ngModel)]="newCrew.phoneNumber">
          </div>
        </form>
        <div class="form-group">
          <label for="message-text" class="col-form-label">Role:</label>
          <select class="custom-select mb-2 mr-sm-2 mb-sm-0" id="inlineFormCustomSelect" name="role" [(ngModel)]="newCrew.role">
            <option selected>Crew Role</option>
            <option value="Cast">Cast</option>
            <option value="Crew">Crew</option>
            <option value="Actor">Actor</option>
            <option value="Writer">Writer</option>
            <option value="Extra">Extra</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closed()">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="saved()" [disabled]="!newCrew.name">Save</button>
      </div>
    </div>
  </div>
</div>




<div class="modal fade" id="addMember" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header bg-dark">
              <h5 class="modal-title text-white" id="exampleModalLabel">Add a Member</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group">
                  <form>
                      <div class="form-row align-items-center">
                        <div class="col-6">
                        <label class="sr-only" for="inlineFormInput">Name</label>
                        <input type="text" class="form-control mb-2 mb-sm-0" id="inlineFormInput" placeholder="Name" [(ngModel)]="newCrew.name" name="name"/>
                        </div>
                        <div class="col-6">
                          <label class="sr-only" for="inlineFormInputGroup">Email</label>
                          <div class="input-group mb-2 mb-sm-0">
                            <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Email" [(ngModel)]="newCrew.email" name="email"/>
                          </div>
                        </div>
                      </div>
                      <br>
                      <div class="form-row align-items-center">
                        <div class="col-3">
                            <select class="custom-select " id="inlineFormCustomSelect" [(ngModel)]="newCrew.role" name="role">
                                <option selected>Role</option>
                                <option value="Cast">Cast</option>
                                <option value="Crew">Crew</option>
                                <option value="Actor">Actor</option>
                                <option value="Writer">Writer</option>
                                <option value="Extra">Extra</option>
                              </select>
                            </div>
                        <div class="col-9">
                          <label class="sr-only" for="inlineFormInput">Phone Number</label>
                          <input type="text" class="form-control mb-2 mb-sm-0" id="inlineFormInput" placeholder="Phone Number" [(ngModel)]="newCrew.phoneNumber" name="phone"/>
                        </div>
                      </div>
                    </form>
              </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-success btn-block" (click)="addCrew()" [disabled]="!newCrew.name" data-dismiss="modal">Add</button>
              </div>
        </div>
    </div>
</div>